import{Q as q}from"./QInput-D0fgkvee.js";import{a as x,Q,b as V}from"./axios-D7vZYYcE.js";import{Q as B}from"./QSeparator-CJxezeRc.js";import{Q as L,a as R,c as U}from"./QLayout-ClYczOob.js";import{u as E,r as p,i as g,q as S,o as i,c as _,w as l,b as o,d as r,e as m,R as f,Q as v,L as j}from"./index-Esmsc9vZ.js";import{_ as z}from"./Header-B35RXNc8.js";import"./use-dark-nSKCGpWu.js";import"./focus-manager-BJWzFvJg.js";import"./private.use-form-F1qZ0UlW.js";import"./option-sizes-BScsjctq.js";const F={Россия:"Russian Federation",Беларусь:"Belarus",Казахстан:"Kazakhstan",Кыргызстан:"Kyrgyzstan",Узбекистан:"Uzbekistan"},I={},M=async y=>{try{return(await x.get("https://countriesnow.space/api/v0.1/countries/population/cities",{headers:{"Accept-Language":"ru-RU"}})).data.data.filter(s=>F[y]===s.country).map(s=>({...s,city:I[s.city]||s.city}))}catch(n){throw console.error("Error fetching cities:",n),n}},P={class:"page-internal__search search-page container-md row justify-center q-pt-md q-pb-lg"},K=r("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z",stroke:"#3C4049","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),N={class:"page-internal container-md column items-start q-pt-md q-pb-md"},$={class:"page-internal__choice-city choice-city column items-start q-mb-md",style:{flex:"1 1 auto",width:"100%"}},A={class:"choice-city__letter"},ee={__name:"CityPage",setup(y){const n=E(),s=p("line"),c=p(""),u=p([]),w=g(()=>c.value?u.value.filter(e=>e.city.toLowerCase().includes(c.value.toLowerCase())):u.value),C=g(()=>{const e={};return w.value.forEach(t=>{const a=t.city[0].toUpperCase();e[a]||(e[a]=[]),e[a].push(t)}),Object.keys(e).sort().map(t=>({letter:t,cities:e[t]}))}),k=e=>{sessionStorage.setItem("selectedCity",e),n.push({name:"main"})};return S(async()=>{try{const e=sessionStorage.getItem("selectedCountry");u.value=await M(e)}catch(e){console.error("Error fetching cities:",e)}}),(e,t)=>(i(),_(L,null,{default:l(()=>[o(U,{class:"my-page-container body--grey"},{default:l(()=>[o(R,{class:"page-internal q-pt-md q-pb-md q-pl-sm q-pr-sm"},{default:l(()=>[o(z),r("div",P,[o(q,{color:"grey-9",standout:"",modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=a=>c.value=a),type:"text",class:"my-input-standart my-input-standart-middle",placeholder:"найти город",style:{width:"100%"}},{append:l(()=>[K]),_:1},8,["modelValue"])]),r("div",N,[o(Q,{class:"col row",style:{width:"100%"}},{default:l(()=>[(i(!0),m(v,null,f(C.value,(a,b)=>(i(),m("div",{key:b,class:"column col-xs-12 col-sm-6 col-md-4 q-px-md q-pb-md"},[r("div",$,[r("div",A,j(a.letter),1),(i(!0),m(v,null,f(a.cities,d=>(i(),_(V,{key:d.city,name:"shape",modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=h=>s.value=h),val:d.city,label:d.city,onClick:h=>k(d.city)},null,8,["modelValue","val","label","onClick"]))),128))]),o(B,{inset:"",style:{width:"100%","background-color":"#30343B","margin-top":"20px"}})]))),128))]),_:1})])]),_:1})]),_:1})]),_:1}))}};export{ee as default};
