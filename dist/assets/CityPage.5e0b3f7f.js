import{Q as x}from"./QInput.71340f4e.js";import{a as q,Q,b as V}from"./axios.1a9ae167.js";import{Q as B}from"./QSeparator.fd7f6385.js";import{Q as L,a as U,c as j}from"./QLayout.5d3cb747.js";import{u as E,r as p,j as h,g as P,o as i,c as g,w as l,b as o,d as r,e as m,a3 as f,a2 as v,_ as R}from"./index.b95803c9.js";import{_ as S}from"./Header.2ab51a36.js";import"./use-dark.a9d828a9.js";import"./focus-manager.40072c15.js";import"./private.use-form.872cad04.js";import"./option-sizes.d91090cd.js";const z={\u0420\u043E\u0441\u0441\u0438\u044F:"Russian Federation",\u0411\u0435\u043B\u0430\u0440\u0443\u0441\u044C:"Belarus",\u041A\u0430\u0437\u0430\u0445\u0441\u0442\u0430\u043D:"Kazakhstan",\u041A\u044B\u0440\u0433\u044B\u0437\u0441\u0442\u0430\u043D:"Kyrgyzstan",\u0423\u0437\u0431\u0435\u043A\u0438\u0441\u0442\u0430\u043D:"Uzbekistan"},F={},I=async y=>{try{return(await q.get("https://countriesnow.space/api/v0.1/countries/population/cities",{headers:{"Accept-Language":"ru-RU"}})).data.data.filter(s=>z[y]===s.country).map(s=>({...s,city:F[s.city]||s.city}))}catch(n){throw console.error("Error fetching cities:",n),n}};const M={class:"page-internal__search search-page container-md row justify-center q-pt-md q-pb-lg"},K=r("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z",stroke:"#3C4049","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),N={class:"page-internal container-md column items-start q-pt-md q-pb-md"},$={class:"page-internal__choice-city choice-city column items-start q-mb-md",style:{flex:"1 1 auto",width:"100%"}},A={class:"choice-city__letter"},ee={__name:"CityPage",setup(y){const n=E(),s=p("line"),c=p(""),d=p([]),C=h(()=>c.value?d.value.filter(e=>e.city.toLowerCase().includes(c.value.toLowerCase())):d.value),w=h(()=>{const e={};return C.value.forEach(t=>{const a=t.city[0].toUpperCase();e[a]||(e[a]=[]),e[a].push(t)}),Object.keys(e).sort().map(t=>({letter:t,cities:e[t]}))}),k=e=>{sessionStorage.setItem("selectedCity",e),n.push({name:"main"})};return P(async()=>{try{const e=sessionStorage.getItem("selectedCountry");d.value=await I(e)}catch(e){console.error("Error fetching cities:",e)}}),(e,t)=>(i(),g(L,null,{default:l(()=>[o(j,{class:"my-page-container body--grey"},{default:l(()=>[o(U,{class:"page-internal q-pt-md q-pb-md q-pl-sm q-pr-sm"},{default:l(()=>[o(S),r("div",M,[o(x,{color:"grey-9",standout:"",modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=a=>c.value=a),type:"text",class:"my-input-standart my-input-standart-middle",placeholder:"\u043D\u0430\u0439\u0442\u0438 \u0433\u043E\u0440\u043E\u0434",style:{width:"100%"}},{append:l(()=>[K]),_:1},8,["modelValue"])]),r("div",N,[o(Q,{class:"col row",style:{width:"100%"}},{default:l(()=>[(i(!0),m(v,null,f(w.value,(a,b)=>(i(),m("div",{key:b,class:"column col-xs-12 col-sm-6 col-md-4 q-px-md q-pb-md"},[r("div",$,[r("div",A,R(a.letter),1),(i(!0),m(v,null,f(a.cities,u=>(i(),g(V,{key:u.city,name:"shape",modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=_=>s.value=_),val:u.city,label:u.city,onClick:_=>k(u.city)},null,8,["modelValue","val","label","onClick"]))),128))]),o(B,{inset:"",style:{width:"100%","background-color":"#30343B","margin-top":"20px"}})]))),128))]),_:1})])]),_:1})]),_:1})]),_:1}))}};export{ee as default};
